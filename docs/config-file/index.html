<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.3">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="CSSNANO Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="CSSNANO Blog Atom Feed"><title data-react-helmet="true">Config Files | CSSNANO</title><meta data-react-helmet="true" property="og:url" content="https://cssnano.github.io/docs/config-file"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Config Files | CSSNANO"><meta data-react-helmet="true" name="description" content="export const ExampleChart = () =&gt; {"><meta data-react-helmet="true" property="og:description" content="export const ExampleChart = () =&gt; {"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://cssnano.github.io/docs/config-file"><link data-react-helmet="true" rel="alternate" href="https://cssnano.github.io/docs/config-file" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://cssnano.github.io/docs/config-file" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.7ce40fe4.css">
<link rel="preload" href="/assets/js/runtime~main.ee63d44a.js" as="script">
<link rel="preload" href="/assets/js/main.77cb6222.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_2DlW">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo-alt.svg" alt="CSSNANO Logo" class="themedImage_1W5V themedImage--light_1Cmh navbar__logo"><img src="/img/logo-alt.svg" alt="CSSNANO Logo" class="themedImage_1W5V themedImage--dark_2I2c navbar__logo"></a><a class="navbar__item navbar__link" href="/docs/introduction">Guide</a><a class="navbar__item navbar__link" href="/docs/optimisations">Optimizations</a><a class="navbar__item navbar__link" href="/playground">Playground</a><a class="navbar__item navbar__link" href="/docs/support-us">Support</a></div><div class="navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/blog">Blog</a><a href="https://github.com/cssnano/cssnano" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1MM_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><a href="https://opencollective.com/cssnano" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1MM_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle displayOnlyInLargeViewport_1kDH react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_3DWk">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_3DWk">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div><div class="navbar-sidebar"><div class="navbar-sidebar__brand"><a class="navbar__brand" href="/"><img src="/img/logo-alt.svg" alt="CSSNANO Logo" class="themedImage_1W5V themedImage--light_1Cmh navbar__logo"><img src="/img/logo-alt.svg" alt="CSSNANO Logo" class="themedImage_1W5V themedImage--dark_2I2c navbar__logo"></a></div><div class="navbar-sidebar__items"><div class="menu"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" href="/docs/introduction">Guide</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/optimisations">Optimizations</a></li><li class="menu__list-item"><a class="menu__link" href="/playground">Playground</a></li><li class="menu__list-item"><a class="menu__link" href="/docs/support-us">Support</a></li><li class="menu__list-item"><a class="menu__link" href="/blog">Blog</a></li><li class="menu__list-item"><a href="https://github.com/cssnano/cssnano" target="_blank" rel="noopener noreferrer" class="menu__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1MM_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="menu__list-item"><a href="https://opencollective.com/cssnano" target="_blank" rel="noopener noreferrer" class="menu__link"><span>Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1MM_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_3QOk"><aside class="docSidebarContainer_JcCK"><div class="sidebar_1Zkp"><nav class="menu menu--responsive thin-scrollbar menu_3DcZ menuWithAnnouncementBar_z9HN" aria-label="Sidebar navigation"><button aria-label="Open menu" aria-haspopup="true" class="button button--secondary button--sm menu__button" type="button"><svg class="sidebarMenuIcon_29Bk" width="24" height="24" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Getting Started</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/Introduction">Introduction</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/getting-started">Getting started</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/docs/config-file">Config Files</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/what-are-optimisations">Optimisations</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/presets">Presets</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/docs/advanced-transforms">Advanced transforms</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Developers Guide</a><ul class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/contributing">Contributing</a></li><li class="menu__list-item"><a class="menu__link" tabindex="-1" href="/docs/changelog">Changelog</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_1l0W"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3pk-"><div class="docItemContainer_3uvL"><article><div class="markdown"><header><h1 class="h1Heading_3x5L">Config Files</h1></header><div class="carbon_ads_mdx_wrapper"></div><p>You can configure cssnano either in the PostCSS configuration file or in a dedicated cssnano configuration file. The PostCSS configuration file takes precedence over the dedicated cssnano configuration.
If you don&#x27;t pass any configuration, cssnano runs with the <code>default</code> preset.</p><h2 id="configure-through-postcss-configuration-files">Configure through PostCSS configuration files</h2><p>In the <a href="https://github.com/postcss/postcss#usage">PostCSS configuration file</a>, you can pass both the <code>preset</code> and <code>plugins</code> options when you add <code>cssnano</code> to the PostCSS plugins. For example, if you use PostCSS programmatically, the following uses cssnano with the <code>lite</code> preset and adds autoprefixer.</p><pre><code class="language-js">import postcss from &#x27;postcss&#x27;;
import cssnano from &#x27;cssnano&#x27;;
import litePreset from &#x27;cssnano-preset-lite&#x27;;
import autoprefixer from &#x27;autoprefixer&#x27;;
const preset = litePreset({ discardComments: false });

postcss([cssnano({ preset, plugins: [autoprefixer] })]).process(&quot;/* Your CSS here */&quot;)
</code></pre><h2 id="configure-through-dedicated-cssnano-configuration">Configure through dedicated <code>cssnano</code> configuration</h2><p>If you cannot configure cssnano in the PostCSS configuration file, you can configure cssnano with a cssnano configuration option in <code>package.json</code> or with a dedicated configuration file. This file can be in different formats.</p><ul><li><code>.cssnanorc.config.json</code> and <code>.cssnanorc</code> must contain a JSON object</li><li><code>cssnano.config.js</code> must export the configuration as a JavaScript object</li></ul><h2 id="options">Options</h2><h3 id="preset"><code>preset</code></h3><ul><li><strong>Type:</strong> <code>string</code> | <code>function</code> | <code>[string, Objects&lt;preset options here&gt;]</code> | <code>[function(preset options here)]</code></li></ul><p>Pass a preset to choose a pre-configured set of optimizations. You can either import the preset package or use the preset name as a string.</p><p>With the preset as import:</p><pre><code class="language-js">cssnano({ preset: require(&#x27;cssnano-preset-default&#x27;) })
</code></pre><p>Using a string is useful if you use a configuration file in the JSON format.
When you use a string, if the preset is called <code>cssnano-preset-&lt;name&gt;</code>, use <code>name</code> alone:</p><pre><code class="language-js">cssnano({ preset: &#x27;default&#x27; })
</code></pre><p>Presets themselves can take options.
Pass options to the preset by using an array where the first element is the preset and the second is an object with the preset options.
You can specify a preset with the preset name as a string or by passing the result of importing the preset package.</p><pre><code class="language-js">// cssnano.config.js
module.exports = {
  preset: [ require(&#x27;cssnano-preset-default&#x27;), { discardComments: false } ]
};
</code></pre><p>You can also pass preset options when you use the preset name as a string:
For example, here&#x27;s how to deactivate the <code>discardComments</code> plugin when using the <code>advanced</code> preset:</p><pre><code class="language-js">cssnano({ preset: [&#x27;advanced&#x27;, { discardComments: false }] })
</code></pre><h3 id="plugins"><code>plugins</code></h3><ul><li><strong>Type:</strong> <code>Array&lt;&#x27;string&#x27; | &#x27;function&#x27; | [&#x27;string&#x27; | &#x27;function&#x27;, Object&lt;Options for the plugin here&gt;]&gt;</code></li></ul><p>In addition to the preset, you can pass a list of plugins to cssnano.
This is equivalent to adding the plugins after cssnano in the PostCSS plugins array.
If you want to configure the individual plugins, use an array of arrays:</p><pre><code class="language-js">cssnano({ plugins: [[&#x27;autoprefixer&#x27;, {}]] })
</code></pre><ul><li><p><strong>Example:</strong></p><pre><code class="language-js">// cssnano.config.js
module.exports = {
  plugins: [require(&#x27;autoprefixer&#x27;)]
  
  // or
  plugins: [&#x27;autoprefixer&#x27;, &#x27;postcss-preset-env&#x27;]
  
  // or
  plugins: [ 
    [&#x27;autoprefixer&#x27;, { remove: false }],
  ]

  // or
  plugins: [
    [ require(&#x27;autoprefixer&#x27;), {remove: false} ],
    [ &#x27;postcss-preset-env&#x27;]
  ]
}
</code></pre></li></ul></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/cssnano/cssnano/edit/master/site/docs/config-file.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_3obu" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_28vF">Last updated on <b><time datetime="2021-07-19T15:34:59.000Z">7/19/2021</time></b> by <b>Ludovico Fischer</b></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/docs/getting-started"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« Getting started</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/docs/what-are-optimisations"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Optimisations Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_BjCU thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#configure-through-postcss-configuration-files" class="table-of-contents__link">Configure through PostCSS configuration files</a></li><li><a href="#configure-through-dedicated-cssnano-configuration" class="table-of-contents__link">Configure through dedicated <code>cssnano</code> configuration</a></li><li><a href="#options" class="table-of-contents__link">Options</a><ul><li><a href="#preset" class="table-of-contents__link"><code>preset</code></a></li><li><a href="#plugins" class="table-of-contents__link"><code>plugins</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer footer--dark"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/docs/introduction">Guide</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/optimisations">Optimizations</a></li><li class="footer__item"><a class="footer__link-item" href="/playground">Playground</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/support-us">Support</a></li></ul></div><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://stackoverflow.com/questions/tagged/cssnano" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Stack Overflow<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1MM_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://gitter.im/postcss/postcss" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Gitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1MM_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://opencollective.com/cssnano" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Donate<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1MM_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a href="https://github.com/cssnano/cssnano" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1MM_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/cssnano_" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_1MM_"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Latest release v5.0.6 Â· Distributed under the MIT License.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.ee63d44a.js"></script>
<script src="/assets/js/main.77cb6222.js"></script>
</body>
</html>